(this["webpackJsonpvacations-app"]=this["webpackJsonpvacations-app"]||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},17:function(e,t){e.exports={domain:"https://stark-basin-64884.herokuapp.com"}},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(10),i=a.n(c),r=(a(132),a(5)),o=(a(133),a(8)),l=a.n(o),d=a(13),u=a(292),j=a(303),p=a(14),m=a(15),b=a(17),h=a.p+"static/media/favicon.ffb1e74f.ico",O=a(1);function f(e){var t=e.setToken,a=e.setadmin,s=e.setIsOpen,c=Object(p.f)(),i=Object(n.useState)(""),o=Object(r.a)(i,2),f=o[0],x=o[1],v=Object(n.useState)(""),g=Object(r.a)(v,2),N=g[0],y=g[1],w=function(){var e=Object(d.a)(l.a.mark((function e(){var n,s,i,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({userName:f,password:N})});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,i=s.success,r=s.admin,o=s.id,i?(localStorage.setItem("user",JSON.stringify({userName:f,password:N,id:o})),t(f),c.push("/")):r?(localStorage.setItem("admin",JSON.stringify({userName:f,password:N})),a(f),c.push("/")):alert(s.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mega-form",children:Object(O.jsxs)("div",{className:"sign-up-form demoObject",children:[Object(O.jsx)("img",{style:{width:"80px"},src:h}),Object(O.jsx)("h3",{children:"LOG AWAY"}),Object(O.jsx)(j.a,{type:"text",value:f,onChange:function(e){x(e.target.value)},className:"my-input",placeholder:"User Name"}),Object(O.jsx)(j.a,{type:"password",value:N,onChange:function(e){y(e.target.value)},placeholder:"Password",className:"my-input"}),Object(O.jsx)("div",{className:"sign-up-btn",children:Object(O.jsx)(u.a,{onClick:w,children:"Login"})}),Object(O.jsx)("div",{className:"forget-password",children:Object(O.jsx)(m.b,{onClick:function(){s(!1)},to:"/signup",children:"Register here"})})]})})}function x(e){var t=e.setIsOpen,a=Object(p.f)(),s=Object(n.useState)(""),c=Object(r.a)(s,2),i=c[0],o=c[1],f=Object(n.useState)(""),x=Object(r.a)(f,2),v=x[0],g=x[1],N=Object(n.useState)(""),y=Object(r.a)(N,2),w=y[0],S=y[1],k=Object(n.useState)(""),C=Object(r.a)(k,2),V=C[0],I=C[1],T=function(){var e=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/signup",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({firstName:i,lastName:v,userName:w,password:V})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(e.sent.status){e.next=12;break}return alert("user name is taken"),e.abrupt("return");case 12:t(!0),a.push("/login");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"mega-form",children:Object(O.jsxs)("div",{className:"sign-up-form demoObject",children:[Object(O.jsx)("img",{style:{width:"80px"},src:h}),Object(O.jsx)("h3",{children:"SIGN UP "}),Object(O.jsx)(j.a,{type:"text",value:i,onChange:function(e){o(e.target.value)},className:"my-input",placeholder:"firstName"}),Object(O.jsx)(j.a,{type:"text",value:v,onChange:function(e){g(e.target.value)},placeholder:"lastName",className:"my-input"}),Object(O.jsx)(j.a,{type:"text",value:w,onChange:function(e){S(e.target.value)},placeholder:"userName",className:"my-input"}),Object(O.jsx)(j.a,{type:"password",value:V,onChange:function(e){I(e.target.value)},placeholder:"password",className:"my-input"}),Object(O.jsx)("div",{className:"sign-up-btn",children:Object(O.jsx)(u.a,{onClick:T,children:"Sign-Up"})}),Object(O.jsxs)("div",{className:"forget-password",children:[Object(O.jsx)("p",{children:"already have a user ? "}),Object(O.jsx)(m.b,{onClick:function(){t(!0)},to:"/login",children:"login here"})]})]})})}a(143);function v(e){var t=e.setToken,a=e.setadmin,n=s.a.useState(!0),c=Object(r.a)(n,2),i=c[0],o=c[1];return Object(O.jsxs)("div",{className:"welcome-page",children:[i?Object(O.jsx)(f,{setIsOpen:o,setadmin:a,setToken:t}):Object(O.jsx)(x,{setIsOpen:o}),Object(O.jsx)(m.a,{children:Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/login",children:Object(O.jsx)(f,{setIsOpen:o,setadmin:a,setToken:t})}),Object(O.jsx)(p.a,{path:"/signup",children:Object(O.jsx)(x,{setIsOpen:o})})]})})]})}a(144);var g=a(22);a(145),a(146),a(147);function N(e){var t=e.setallVacations,a=e.searchVac,n=e.setsearchVac,s=JSON.parse(localStorage.getItem("user")),c=function(e,t){var s=Object(g.a)(a);s[t][e.target.name]=e.target.value,n(s),console.log(s[0].destination)},i=function(){var e=Object(d.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/search",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({searchVac:a,user:s})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),r=function(){n([{destination:"",from:"",till:""}])};return Object(O.jsx)("div",{className:"search-warp cropped",children:a.map((function(e,t){return Object(O.jsxs)("div",{className:"search-form",children:[Object(O.jsx)("input",{value:e.destination,name:"destination",onChange:function(e){c(e,t)},className:"search",placeholder:"Search Destination",type:"text"}),Object(O.jsx)("input",{className:"date-input",name:"from",value:e.from,onChange:function(e){c(e,t)},type:"date"}),Object(O.jsx)("input",{className:"date-input",name:"till",value:e.till,onChange:function(e){c(e,t)},type:"date"}),Object(O.jsx)("button",{className:"search-btn",onClick:i,children:"Search"}),Object(O.jsx)("button",{className:"search-btn clear",onClick:r,children:"Clear"})]},t)}))})}a(148),a(149),a(150),a(151);var y=a(293),w=a(294),S=a(295),k=a(296),C=a(66),V=a(297),I=a(102),T=a.n(I),A=a(103),M=a.n(A);function P(e){var t=e.vacationId,a=e.followersArr,n=e.setshow,c=s.a.useState(),i=Object(r.a)(c,2),o=i[0],u=i[1],j=JSON.parse(localStorage.getItem("user"));s.a.useEffect((function(){var e=a.find((function(e){return e.user_id===j.id}));u(e)}),[a]);var p=function(){var e=Object(d.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/addfollow",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({userId:j.id,vacationId:t})});case 3:return s=e.sent,e.next=6,s.json();case 6:e.sent,n(a),u(!o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:o?Object(O.jsx)(M.a,{onClick:p}):Object(O.jsx)(T.a,{onClick:p})})}function J(e){var t=e.allVacations,n=e.setshow,s=a(82);return Object(O.jsx)("div",{className:"vacation-row",children:t.map((function(e,a){return e.vacation?Object(O.jsxs)(y.a,{className:"card-root",children:[Object(O.jsx)(w.a,{className:"vacation-name",style:{textAlign:"center"},title:e.vacation.destination,subheader:e.vacation.description}),Object(O.jsx)(S.a,{className:"card-media",image:e.vacation.pics}),Object(O.jsxs)(k.a,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"from: "}),s(e.vacation.from_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"till: "}),s(e.vacation.till_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:["Price:  ",e.vacation.price]}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(P,{allVacations:t,setshow:n,followersArr:e.vacation.followers,vacationId:e.vacation.id}),Object(O.jsx)("div",{className:"followers-num",children:e.vacation.followers.length})]})]})]},a):Object(O.jsxs)(y.a,{className:"card-root",children:[Object(O.jsx)(w.a,{className:"vacation-name",style:{textAlign:"center"},title:e.destination,subheader:e.description}),Object(O.jsx)(S.a,{className:"card-media",image:e.pics}),Object(O.jsxs)(k.a,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"from: "}),s(e.from_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"till: "}),s(e.till_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:["Price:  ",e.price]}),Object(O.jsxs)(V.a,{children:[Object(O.jsx)(P,{allVacations:t,setshow:n,followersArr:e.followers,vacationId:e.id}),Object(O.jsx)("div",{className:"followers-num",children:e.followers.length})]})]})]},a)}))})}function D(e){var t=e.allVacations,a=e.setshow,n=e.setallVacations,s=e.searchVac,c=e.setsearchVac;return a(s),Object(O.jsxs)("div",{className:"main slide-right",children:[Object(O.jsx)(N,{setshow:a,setsearchVac:c,searchVac:s,setallVacations:n}),Object(O.jsx)(J,{setshow:a,allVacations:t})]})}var F=a(64),_=a.n(F),E=a(63),L=a.n(E);function B(e){var t=e.setToken,a=e.allVacations,n=e.setshow,s=e.setallVacations,c=e.show,i=e.searchVac,r=e.setsearchVac,o=JSON.parse(localStorage.getItem("user")),l=Object(p.f)(),d={largeIcon:{width:40,height:40}};return Object(O.jsxs)(m.a,{children:[Object(O.jsxs)("div",{className:"navbar",children:[Object(O.jsx)(m.b,{onClick:function(){r([{destination:"",from:"",till:""}])},to:"/",children:Object(O.jsx)(L.a,{style:d.largeIcon})}),Object(O.jsxs)("div",{className:"welcome-user navlinkk",children:["Welcome \xa0 ",Object(O.jsx)("span",{className:"user-name",children:o.userName})]}),Object(O.jsx)(_.a,{style:d.largeIcon,className:"logOut-icon",onClick:function(){localStorage.clear(),t(""),l.push("/")}})]}),Object(O.jsx)(p.c,{children:Object(O.jsx)(p.a,{path:"/",children:Object(O.jsx)(D,{setsearchVac:r,searchVac:i,setallVacations:s,setshow:n,allVacations:a,show:c})})})]})}function W(e){var t=e.setToken,a=s.a.useState([]),n=Object(r.a)(a,2),c=n[0],i=n[1],o=s.a.useState(),u=Object(r.a)(o,2),j=u[0],p=u[1],m=JSON.parse(localStorage.getItem("user")),h=s.a.useState([{destination:"",from:"",till:""}]),f=Object(r.a)(h,2),x=f[0],v=f[1];return s.a.useEffect(Object(d.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/allvacations/".concat(m.id));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.sent,e.next=9,fetch(b.domain+"/search",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({searchVac:x,user:m})});case 9:return a=e.sent,e.next=12,a.json();case 12:n=e.sent,i(n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[j]),Object(O.jsx)("div",{className:"container_row",children:Object(O.jsx)(B,{setsearchVac:v,searchVac:x,show:j,setallVacations:i,setshow:p,allVacations:c,setToken:t})})}a(153),a(154),a(155);var Y=a(105),R=a.n(Y),U=a(305),G=a(306),K=a(104),H=a.n(K),X=a(106),Z=a.n(X);function q(e){var t=e.setadmin,a=s.a.useState(null),n=Object(r.a)(a,2),c=n[0],i=n[1],o=Object(p.f)(),l=function(){i(null)};return Object(O.jsxs)("div",{children:[Object(O.jsx)(H.a,{className:"menu-iconn",style:{width:40,height:40},"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}}),Object(O.jsxs)(U.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){i(null)},children:[Object(O.jsxs)(G.a,{children:[Object(O.jsx)(R.a,{}),Object(O.jsxs)(m.b,{to:"/addvacation",className:"hamburger-item",onClick:l,children:[Object(O.jsx)("span",{}),"Add Vacation"]})]}),Object(O.jsxs)(G.a,{children:[" ",Object(O.jsx)(Z.a,{}),Object(O.jsxs)(m.b,{className:"hamburger-item",to:"/reports",onClick:l,children:[Object(O.jsx)("span",{}),"REPORTS"]})]}),Object(O.jsxs)(G.a,{className:"hamburger-item",onClick:function(){localStorage.clear(),t(""),o.push("/login")},children:[Object(O.jsx)(_.a,{}),Object(O.jsx)("span",{}),"Logout"]})]})]})}a(157),a(158),a(159),a(160);var z=a(107),Q=a(298),$=a(302);function ee(e){return Object(O.jsxs)($.a,{className:"spinner-round",position:"relative",display:"inline-flex",children:[Object(O.jsx)(Q.a,Object(z.a)({variant:"determinate"},e)),Object(O.jsx)($.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"none",alignItems:"center",justifyContent:"center",children:Object(O.jsx)(C.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}function te(){var e=s.a.useState(10),t=Object(r.a)(e,2),a=t[0],n=t[1];return s.a.useEffect((function(){var e=setInterval((function(){n((function(e){return e>=100?0:e+10}))}),800);return function(){clearInterval(e)}}),[]),Object(O.jsx)(ee,{value:a})}function ae(e){var t=e.image,a=e.setImage,n=e.editVacation,c=s.a.useState(!1),i=Object(r.a)(c,2),o=i[0],u=i[1],j=s.a.useState(!1),p=Object(r.a)(j,2),m=p[0],b=p[1],h=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files,(s=new FormData).append("file",n[0]),s.append("upload_preset","vacation-app"),b(!0),e.prev=5,e.next=8,fetch("https://api.cloudinary.com/v1_1/pwm/image/upload",{method:"POST",body:s});case 8:return c=e.sent,e.next=11,c.json();case 11:i=e.sent,a(i.secure_url),b(!1),u(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"upload-pic-warp",children:[Object(O.jsx)("label",{className:"upload-profle-pic-label",for:"file-upload",children:"UPLOAD IMAGE"}),Object(O.jsx)("input",{id:"file-upload",className:"add-pic-input",type:"file",name:"file",placeholder:"upload image",onChange:h}),m?Object(O.jsx)(te,{}):Object(O.jsx)(O.Fragment,{children:o?Object(O.jsx)("img",{src:t,className:"currentImage"}):Object(O.jsx)("img",{className:"currentImage",src:n.pics})})]})}function ne(e){var t=e.setadminShow,a=e.image,n=e.setImage,c=e.editVacation,i=s.a.useState(""),o=Object(r.a)(i,2),u=o[0],j=o[1],m=s.a.useState(""),h=Object(r.a)(m,2),f=h[0],x=h[1],v=s.a.useState(""),g=Object(r.a)(v,2),N=g[0],y=g[1],w=s.a.useState(""),S=Object(r.a)(w,2),k=S[0],C=S[1],V=s.a.useState(""),I=Object(r.a)(V,2),T=I[0],A=I[1],M=Object(p.f)(),P=function(){var e=Object(d.a)(l.a.mark((function e(n){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==u&&""!==f&&""!==N&&""!==k&&""!==T&&void 0!==a){e.next=4;break}return alert("Must Fill all Fields"),e.abrupt("return");case 4:return e.prev=4,e.next=7,fetch(b.domain+"/addvacation",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({destination:u,description:f,image:a,fromDate:N,tillDate:k,price:T})});case 7:return s=e.sent,e.next=10,s.json();case 10:c=e.sent,t(c),j(""),x(""),y(""),C(""),A(""),M.push("/home"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"add-vacation-warp",children:[Object(O.jsx)("div",{className:"add-v-title",children:"ADD VACATION"}),Object(O.jsxs)("form",{className:"add-form",children:[Object(O.jsx)("input",{className:"edit-inputs",placeholder:"destination",value:u,onChange:function(e){j(e.target.value)},type:"text"}),Object(O.jsx)("input",{className:"edit-inputs",placeholder:"description",type:"text",value:f,onChange:function(e){x(e.target.value)}}),Object(O.jsx)("input",{className:"edit-inputs",type:"date",value:N,onChange:function(e){y(e.target.value)}}),Object(O.jsx)("input",{className:"edit-inputs",type:"date",value:k,onChange:function(e){C(e.target.value)}}),Object(O.jsx)("input",{className:"edit-inputs",placeholder:"price",value:T,onChange:function(e){A(e.target.value)}}),Object(O.jsx)(ae,{setImage:n,image:a,editVacation:c}),Object(O.jsx)("button",{className:"edit-inputs edit-btn",type:"submit",onClick:P,children:"save"})]})]})}a(161);var se=a(108);function ce(e){var t=e.allVacations,a=s.a.useState([]),n=Object(r.a)(a,2),c=n[0],i=n[1];return s.a.useEffect((function(){console.log(t);for(var e=0;e<t.length;e++){var a=t.filter((function(e){return e.followers.length>0}));i(a)}}),[t]),Object(O.jsxs)("div",{className:"reports-container",children:[Object(O.jsx)("h1",{children:"Reports"}),Object(O.jsx)(se.Bar,{data:{labels:c.map((function(e){return e.description})),datasets:[{label:"Amount Of Followers Per Vacation",data:c.map((function(e){return e.followers.length})),backgroundColor:c.map((function(){return"rgba(255, 99, 132, 0.2)"})),borderColor:c.map((function(){return"rgb(255, 99, 132)"})),borderWidth:1}]},width:100,height:300,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})]})}a(257);var ie=a(110),re=a.n(ie),oe=a(109),le=a.n(oe);function de(e){var t=e.vacationId,a=e.setadminShow,n=e.setisModalOpen,s=function(){var e=Object(d.a)(l.a.mark((function e(t){var s,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=window.confirm("Are You Sure You Want To Delete This Vacation?"),"You pressed OK!"!=(1==s?"You pressed OK!":"You pressed Cancel!")){e.next=18;break}return e.prev=3,e.next=6,fetch(b.domain+"/delete-vacation/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})});case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,a(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:e.next=19;break;case 18:n(!1);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(le.a,{className:"icons",onClick:function(){return s(t)}})}var ue=a(299),je=a(304),pe=a(300),me=a(263),be=(a(258),Object(ue.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{textAlign:"center",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)}}})));function he(e){var t=e.setisModalOpen,a=e.isModalOpen,n=e.editVacation,c=e.setadminShow,i=e.setImage,o=e.image,u=e.seteditVacation,j=s.a.useState(n.destination),p=Object(r.a)(j,2),m=p[0],h=p[1],f=s.a.useState(n.description),x=Object(r.a)(f,2),v=x[0],g=x[1],N=s.a.useState(n.from_date),y=Object(r.a)(N,2),w=y[0],S=y[1],k=s.a.useState(n.till_date),C=Object(r.a)(k,2),V=C[0],I=C[1],T=s.a.useState(n.price),A=Object(r.a)(T,2),M=A[0],P=A[1],J=function(){t(!1),u("")},D=function(){var e=Object(d.a)(l.a.mark((function e(a){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==m&&""!==v&&""!==w&&""!==V&&""!==M){e.next=4;break}return alert("Must Fill all Fields"),e.abrupt("return");case 4:return e.prev=4,e.next=7,fetch(b.domain+"/updatevacation",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({id:n.id,destination:m,description:v,image:o,fromDate:w,tillDate:V,price:M})});case 7:return s=e.sent,e.next=10,s.json();case 10:i=e.sent,console.log(i),c(i),t(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),F=be();return Object(O.jsx)("div",{children:Object(O.jsx)(je.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:F.modal,open:a,onClose:J,closeAfterTransition:!0,BackdropComponent:pe.a,BackdropProps:{timeout:500},children:Object(O.jsx)(me.a,{in:a,children:Object(O.jsxs)("div",{className:F.paper,children:[Object(O.jsx)("div",{onClick:J,className:"x-icon",children:"X"}),Object(O.jsx)("div",{className:"edit-title",children:n.destination}),Object(O.jsx)("div",{className:"edit-title",children:n.description}),Object(O.jsxs)("form",{className:"editModalWarp",children:[Object(O.jsx)("input",{className:"edit-inputs",value:m,onChange:function(e){h(e.target.value)}}),Object(O.jsx)("input",{className:"edit-inputs",value:v,onChange:function(e){g(e.target.value)}}),Object(O.jsx)(ae,{setImage:i,image:o,editVacation:n}),Object(O.jsx)("input",{className:"edit-inputs",value:w,onChange:function(e){S(e.target.value)},type:"date"}),Object(O.jsx)("input",{className:"edit-inputs",value:V,onChange:function(e){I(e.target.value)},type:"date"}),Object(O.jsx)("input",{className:"edit-inputs",value:M,onChange:function(e){P(e.target.value)}}),Object(O.jsx)("button",{className:"edit-inputs edit-btn",type:"submit",onClick:D,children:"SAVE"})]})]})})})})}var Oe=a(301),fe=Object(ue.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function xe(){var e=fe();return Object(O.jsxs)("div",{className:e.root,children:[Object(O.jsx)(Oe.a,{}),Object(O.jsx)(Oe.a,{color:"secondary"})]})}function ve(e){var t=e.allVacations,n=e.setadminShow,c=e.setisModalOpen,i=e.isModalOpen,o=e.setImage,u=e.image,j=e.seteditVacation,p=e.editVacation,m=a(82),b=s.a.useState(!1),h=Object(r.a)(b,2),f=h[0],x=h[1],v=function(){var e=Object(d.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.find((function(e){return e.id===a})),x(!0),j(n),setTimeout((function(){c(!0),x(!1)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"vacation-row-admin",children:[i&&Object(O.jsx)(he,{seteditVacation:j,image:u,setImage:o,setadminShow:n,allVacations:t,editVacation:p,setisModalOpen:c,isModalOpen:i}),f?Object(O.jsx)(xe,{className:"prigress-bar"}):Object(O.jsx)(O.Fragment,{children:t.map((function(e,t){return Object(O.jsxs)(y.a,{className:"card-roots",children:[Object(O.jsx)(w.a,{className:"vacation-name",style:{textAlign:"center"},title:e.destination,subheader:e.description}),Object(O.jsx)(S.a,{className:"card-media",image:e.pics}),Object(O.jsxs)(k.a,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"From: "}),m(e.from_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Till: "}),m(e.till_date,"dddd, mmmm d, yyyy")]}),Object(O.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:["Price:  ",e.price]})]}),Object(O.jsxs)(V.a,{className:"card-icons-warp",children:[Object(O.jsx)(re.a,{onClick:function(){v(e.id)},className:"icons"}),Object(O.jsx)(de,{setisModalOpen:c,setadminShow:n,vacationId:e.id,className:"icons"})]})]},t)}))})]})}function ge(e){var t=e.setadmin,a=e.isModalOpen,n=e.setisModalOpen,c=e.setadminShow,i=e.allVacations,o=e.seteditVacation,l=e.editVacation,d=JSON.parse(localStorage.getItem("admin")),u=s.a.useState(l.pics),j=Object(r.a)(u,2),b=j[0],h=j[1];return Object(O.jsxs)(m.a,{children:[Object(O.jsxs)("div",{className:"admin-nav",children:[Object(O.jsx)(m.b,{to:"/home",children:Object(O.jsx)(L.a,{style:{width:40,height:40}})}),Object(O.jsxs)("div",{className:"welcome-user navlink",children:["Welcome \xa0",Object(O.jsx)("span",{className:"user-name",children:d.userName})]}),Object(O.jsx)(q,{setadmin:t})]}),Object(O.jsxs)(p.c,{children:[Object(O.jsx)(p.a,{path:"/reports",children:Object(O.jsx)(ce,{allVacations:i})}),Object(O.jsx)(p.a,{path:"/addvacation",children:Object(O.jsx)(ne,{editVacation:l,setadminShow:c,setImage:h,image:b})}),Object(O.jsx)(p.a,{path:"/",children:Object(O.jsx)(ve,{seteditVacation:o,editVacation:l,setImage:h,image:b,isModalOpen:a,setisModalOpen:n,setadminShow:c,allVacations:i})})]})]})}function Ne(e){var t=e.setadmin,a=s.a.useState([]),n=Object(r.a)(a,2),c=n[0],i=n[1],o=s.a.useState([]),u=Object(r.a)(o,2),j=u[0],p=u[1],m=(JSON.parse(localStorage.getItem("admin")),s.a.useState(!1)),h=Object(r.a)(m,2),f=h[0],x=h[1],v=s.a.useState({}),g=Object(r.a)(v,2),N=g[0],y=g[1];return s.a.useEffect(Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(b.domain+"/adminvacations");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),i(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[j]),Object(O.jsx)("div",{className:"container_row",children:Object(O.jsx)(ge,{seteditVacation:y,editVacation:N,setadmin:t,isModalOpen:f,setisModalOpen:x,setadminShow:p,allVacations:c})})}var ye=function(){var e=s.a.useState(localStorage.getItem("user")),t=Object(r.a)(e,2),a=t[0],n=t[1],c=s.a.useState(localStorage.getItem("admin")),i=Object(r.a)(c,2),o=i[0],l=i[1];return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)("div",{className:"container",children:a||o?a&&!o?Object(O.jsx)(W,{setadmin:l,setToken:n}):o&&Object(O.jsx)(Ne,{setadmin:l}):Object(O.jsx)(v,{setadmin:l,setToken:n})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,308)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(ye,{})})}),document.getElementById("root")),we()}},[[259,1,2]]]);
//# sourceMappingURL=main.520052c1.chunk.js.map